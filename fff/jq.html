<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>jquery - 滚动跟随</title>
		<style type="text/css">
			* {
				margin: 0;
				padding: 0;
			}

			body {
				overflow-x: hidden;
			}

			.txt {
				width: 100%;
				list-style: none;
				text-align: center;
				margin: 800px 0;
			}

			.txt li {
				width: 100%;
				/* border: 1px solid red; */
				margin-left: 100%;
				font-size: 40px;
			}
		</style>
	</head>
	<body>
		<ul class="txt">
			<li>众里寻他千百度</li>
			<li>蓦然回首</li>
			<li>那人却在</li>
			<li>灯火阑珊处</li>
			<li>灯火阑珊处</li>
			<li>灯火阑珊处</li>
			<li>灯火阑珊处</li>
		</ul>
	</body>
	<script src="js/jquery-2.2.4.js" type="text/javascript" charset="utf-8"></script>
	<script type="text/javascript">
		let startY = 200,
			endY = 400;
		$(document).scroll(function() {
			if (scrollY > startY) {
				// 滚动的距离
				let offset = scrollY - startY;

				console.log('偏移：', offset);

				$('.txt li').each(function(index, elem) {
					// 计算偏移
					let liOffset = parseInt((1 - offset / (endY + index * 70)) * 100);
					liOffset = liOffset < 0 ? 0 : liOffset;

					elem = $(elem);
					// 移动的距离
					elem.css({
						'marginLeft': liOffset + "%",
						"opacity": 1 - liOffset / 70
					});
				});
			}
		});
	</script>
</html>
